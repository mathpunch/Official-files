
<widgetbot
    server="1395867597659967608"
    channel="1461783219304398949"
    width="100%"
    height="100%"
></widgetbot>
<script src="https://cdn.jsdelivr.net/npm/@widgetbot/html-embed"></script>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCK730UgPUCtFKLACzSgGAAC1NK7EGrwhI",
  authDomain: "nannin-2f398.firebaseapp.com",
  projectId: "nannin-2f398"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.submitID = async () => {
  const id = userIdInput.value.trim();
  if (!id) return alert("Enter a valid ID");
  localStorage.setItem("USER_ID", id);
  await checkUser(id);
};

async function checkUser(id) {
  const ref = doc(db, "users", id);
  const snap = await getDoc(ref);

  if (!snap.exists()) {
    await setDoc(ref, { banned: false, createdAt: serverTimestamp() });
  }

  const data = (await getDoc(ref)).data();
  if (data.banned) {
    document.body.innerHTML = "<h1 style='text-align:center'>You are banned. lbozo EAT MUD </h1>";
    return;
  }

  idGate.remove();
}

const saved = localStorage.getItem("USER_ID");
if (saved) checkUser(saved);

window.loadPage = (el, url) => {
  document.querySelectorAll(".item").forEach(i => i.classList.remove("active"));
  el.classList.add("active");
  mainFrame.src = url;
};
</script>